<!-- /.row -->
<div class="row">
    <div class="col-lg-12">

        <div class="panel panel-info">

            <!-- /.panel-heading -->
            <div class="panel-heading" style="margin-bottom:10px;margin-top:15px">
                租户管理
            </div>
            <div class="col-lg-12" style="margin-bottom:10px;">
                <button type="button" class="btn btn-primary" ui-sref="dashboard.tenant-add">新建租户</button>
            </div>
            <div class="form-inline" ng-controller="tenantController">
                <div class="form-group" style="margin-left:10px">

                    <label for="tenantCode">租户号</label>
                    <div class="form-group input-group">
                        <input type="text" class="form-control" id="tenantCode" placeholder="租户号" ng-model='query.code'>
                                <span class="input-group-btn">
                                    <button class="btn btn-default" type="button" ng-click="searchByTenantNo(query)"><i class="fa fa-search"></i>
                                    </button>
                                </span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="tenantName">租户名称</label>
                    <div class="form-group input-group">
                        <input type="text" class="form-control" id="tenantName" placeholder="租户名称" ng-model='query.name'>
                                <span class="input-group-btn">
                                    <button class="btn btn-default" type="button" ng-click="searchByTenantName(query)"><i class="fa fa-search"></i>
                                    </button>
                                </span>
                    </div>
                </div>

                <div class="input-group">
                    <span><label for="startDate">签约时间</label></span>

                    <div class="input-group date form_date " data-date="" data-date-format="yyyy-mm-dd "
                         data-link-field="dtp_input2" data-link-format="yyyy-mm-dd">

                        <input name="" id="startDate" size='10' type="text" class="form-control" placeholder="起始日期" ng-model="query.beginTime"/>
            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar">
            </span></span>
                    </div>
                    <span>-</span>

                    <div class="input-group date form_date " data-date="" data-date-format="yyyy-mm-dd "
                         data-link-field="dtp_input2" data-link-format="yyyy-mm-dd">

                        <input name="" size='10' type="text" class="form-control" placeholder="结束日期" ng-model="query.endTime" />
            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span>
                    </div>
                    <div  class="form-group input-group">
                    <span input-group-btn>
                        <button class="btn btn-default" type="button" ng-click="search(query)"><i class="fa fa-search"></i>
                        </button>
                    </div>
                    <script>

                        $('.form_date').datetimepicker({
                            language: 'zh-CN',
                            weekStart: 1,
                            todayBtn: 1,
                            autoclose: 1,
                            todayHighlight: 1,
                            startView: 2,
                            minView: 2,
                            forceParse: 0
                        });

                    </script>

                </div>

                <!--<div class="form-group">-->
                    <!--<button  ng-click="search(query)" class="btn btn-primary"><span class="fa fa-search"></span>搜索</button>-->
                <!--</div>-->
                </form>


                <div class="panel-body">
                    <div class="dataTable_wrapper">
                        <table class="table table-striped table-bordered table-hover" id="dataTables-example">
                            <thead>
                            <tr>
                                <th>租户号</th>
                                <th>租户名称</th>
                                <th>签约时间</th>
                                <th>联系人</th>
                                <th>电话</th>
                                <th>租户地址</th>
                                <th>操作</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="tenant in tenants" date-format>
                                <td>{{tenant.code}}</td>
                                <td>{{tenant.name}}</td>
                                <td>{{tenant.createTime}}</td>
                                <td>{{tenant.contractName}}</td>
                                <td>{{tenant.phone}}</td>
                                <td>{{tenant.address}}</td>
                                <td>
                                    <a href="" ui-sref="dashboard.merchant-list({tenantNo:tenant.code})">查看商户</a>
                                    <input type="hidden" ng-model="tenant.id">
                                    <a href="" ng-click="deleteTenant(tenant.id)">删除</a>
                                    <!--<a href="" ng-click="modifyTenant(tenant)">修改</a>-->
                                    <a href="" ui-sref="dashboard.tenant-modify({tenantNo:tenant.code})">修改</a>
                                    <a href="" ui-sref="dashboard.protocol-list">支付方式管理</a>

                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <!-- /.table-responsive -->
                    共  {{totalCount}}条记录   共{{totalPage}}页
                    <a ng-hide="currentPage ==0" ui-sref="dashboard.tenant-list({currentPage:currentPage-1,pageSize:5})">上一页</a>
                    <a ng-hide="currentPage ==totalPage-1" ui-sref="dashboard.tenant-list({currentPage:currentPage+1,pageSize:5})">下一页</a>
                    当前第{{currentPage+1}}页
                </div>
                <!-- /.panel-body -->
            </div>
            <!-- /.panel -->
        </div>
        <!-- /.col-lg-12 -->
    </div>

</div>